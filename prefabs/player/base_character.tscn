[gd_scene load_steps=12 format=3 uid="uid://civdxx5i35mqr"]

[ext_resource type="Script" path="res://scripts/player/character_controller.gd" id="1_uicv0"]
[ext_resource type="AudioStream" uid="uid://c2rv44wodj465" path="res://audio/sfx/land.ogg" id="2_354d2"]
[ext_resource type="AudioStream" uid="uid://cf0c7xdsivq4t" path="res://audio/sfx/jump.ogg" id="3_00vjj"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tae2m"]

[sub_resource type="Curve" id="Curve_smbm2"]
_data = [Vector2(0, 0), 0.0, 1.71656, 0, 0, Vector2(0.405152, 1), -0.406553, -0.406553, 0, 0, Vector2(1, 0), -5.82396, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ae1do"]
curve = SubResource("Curve_smbm2")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7iwuf"]
lifetime_randomness = 0.25
emission_shape = 6
emission_ring_axis = Vector3(0, 1, 0)
emission_ring_height = 0.5
emission_ring_radius = 0.5
emission_ring_inner_radius = 0.4
direction = Vector3(0, 1, 0)
spread = 30.0
initial_velocity_min = 1.0
initial_velocity_max = 2.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_ae1do")

[sub_resource type="SphereMesh" id="SphereMesh_jimye"]

[sub_resource type="Curve" id="Curve_ngu1t"]
min_value = -1.0
_data = [Vector2(0, 1), 0.0, -2.11248, 0, 0, Vector2(0.5, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_b2qxp"]
curve = SubResource("Curve_ngu1t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_bg0wt"]
lifetime_randomness = 0.5
emission_shape = 6
emission_ring_axis = Vector3(0, 1, 0)
emission_ring_height = 0.0
emission_ring_radius = 0.5
emission_ring_inner_radius = 0.5
direction = Vector3(0, 1, 0)
initial_velocity_min = 1.0
initial_velocity_max = 3.0
radial_velocity_min = 2.0
radial_velocity_max = 6.0
gravity = Vector3(0, 0, 0)
radial_accel_curve = SubResource("CurveTexture_b2qxp")
damping_min = 8.0
damping_max = 16.0
scale_min = 0.5
scale_curve = SubResource("CurveTexture_ae1do")

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("player_model")]
collision_layer = 18
collision_mask = 19
floor_constant_speed = true
script = ExtResource("1_uicv0")
player_model = NodePath("CSGCylinder3D")
acceleration = 20

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_tae2m")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
layers = 64

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGCylinder3D"]
transform = Transform3D(0.35, 0, 0, 0, -1.31134e-08, 0.35, 0, -0.3, -1.5299e-08, 0, 0.637747, -0.382019)

[node name="JumpParticle" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.994373, 0)
emitting = false
lifetime = 0.5
one_shot = true
explosiveness = 1.0
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_7iwuf")
draw_pass_1 = SubResource("SphereMesh_jimye")

[node name="LandParticle" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.994373, 0)
emitting = false
amount = 16
lifetime = 0.5
one_shot = true
explosiveness = 1.0
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_bg0wt")
draw_pass_1 = SubResource("SphereMesh_jimye")

[node name="LandSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("2_354d2")

[node name="JumpSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_00vjj")

[connection signal="jumped" from="." to="JumpSound" method="play"]
[connection signal="jumped" from="." to="JumpParticle" method="set_emitting" binds= [true]]
[connection signal="landed" from="." to="LandSound" method="play"]
[connection signal="landed" from="." to="LandParticle" method="set_emitting" binds= [true]]
